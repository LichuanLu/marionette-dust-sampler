<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Marionette Dust Example</title>

        <script src="libs/jquery.min.js"></script>
        <script type="text/javascript" src="libs/lodash.js"></script>
        <script type="text/javascript" src="libs/backbone.js"></script>
        <script type="text/javascript" src="libs/backbone.marionette.js"></script>
        <script type="text/javascript" src="libs/dust-full-2.0.2.js"></script>
        <script type="text/javascript" src="libs/backbone.marionette.dust.js"></script>
      
        

        <script type="text/javascript" src="templates/main.js"></script>

        <!-- A template -->
        <script id="templateName" type="text/x-dust-template">
            <h3>{heading}</h3>
            <p>{content}</p>
            <a href="{url}">A link</a>
        </script>

        <script type="text/javascript">
            jQuery(function ($) {
                // Compile all dust templates found in script tags on the page.
                // Templates names are set as script tag's id
                $('script[type="text/x-dust-template"]').each(function () {
                    var compiled = dust.compile($(this).html(), $(this).attr('id'));
                    dust.loadSource(compiled);
                });

                // Create a view and render it
                var SomeView = Backbone.Marionette.ItemView.extend({
                        template: 'main',
                        templateHelpers: {
                            heading: 'My Awesome Heading',
                            content: 'My awesome content',
                            url: 'http://example.com'
                        }
                    }),
                    myView = new SomeView;
                $('body').append(myView.render().$el);
            });
        </script>
    </head>
    <body></body>
</html>
